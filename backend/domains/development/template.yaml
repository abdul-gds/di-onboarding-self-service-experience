AWSTemplateFormatVersion: 2010-09-09
Description: >-
  DNS configuration for self-service development and preview sub domains deployed in development account
Transform:
  - AWS::Serverless-2016-10-31

Conditions:
  isDevelopmentAccount: !Equals [ !Ref AWS::AccountId, "494650018671" ]

Resources:
  SignInServiceDevelopmentHostedZone:
    Condition: isDevelopmentAccount
    Type: AWS::Route53::HostedZone
    Properties:
      HostedZoneConfig:
        Comment: Hosted zone for sign-in.service.gov.uk development sub-domain
      Name: development.sign-in.service.gov.uk.


  SignInServicePreviewHostedZone:
    Condition: isDevelopmentAccount
    Type: AWS::Route53::HostedZone
    Properties:
      HostedZoneConfig:
        Comment: Hosted zone for sign-in.service.gov.uk preview sub-domain
      Name: preview.sign-in.service.gov.uk.


Outputs:
  DevelopmentHostedZone:
    Description: Hosted Zone for sign-in.service.gov.uk development sub-domain
    Value: !Ref SignInServiceDevelopmentHostedZone
    Export:
      Name: SignInServiceDevelopmentHostedZone

  PreviewHostedZone:
    Description: Hosted Zone for sign-in.service.gov.uk preview sub-domain
    Value: !Ref SignInServicePreviewHostedZone
    Export:
      Name: SignInServicePreviewHostedZone
