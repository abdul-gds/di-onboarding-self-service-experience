{% extends "../layout.njk" %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}

{% set active = "your-account" %}
{% set pageTitle = "Your account" %}
{% set mainClasses = "account-summary" %}

{% block mainContent %}
  {% if updatedField %}
    {% set htmlNotificationBanner %}
      <h3 class="govuk-notification-banner__heading">
        You have changed your {{ updatedField }}
      </h3>
    {% endset %}

    {{ govukNotificationBanner({
      classes: 'govuk-!-margin-bottom-5 govuk-!-margin-top-3',
      html: htmlNotificationBanner,
      type: 'success'
    }) }}
  {% endif %}

  <h1 class="govuk-heading-l">Your account</h1>
  {{ govukSummaryList({
    rows: [
      {
        key: {text: "Email address"},
        value: {text: emailAddress}
      },
      {
        key: {text: "Mobile phone number"},
        value: {text: mobilePhoneNumber},
        actions: {
          items: [{
            href: '/change-phone-number',
            text: "Change",
            visuallyHiddenText: "mobile phone number"
          }]
        }
      },
      {
        key: {text: "Password"},
        value: {text: passwordLastChanged},
        actions: {
          items: [{
            href: '/change-password',
            text: "Change",
            visuallyHiddenText: "password"
          }]
        }
      }
    ]
  }) }}

  <h2 class="govuk-heading-m govuk-!-margin-bottom-3">Services</h2>
  <div class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-2">{{ serviceName }}</div>
  <div class="govuk-body govuk-!-margin-bottom-2"><a class="govuk-link" href="/client-details">View service</a></div>
  <div class="govuk-body"><a class="govuk-link" href="/change-service-name">Change service name</a></div>
  <hr class="govuk-section-break govuk-section-break--s govuk-section-break--visible govuk-!-margin-bottom-5 govuk-!-margin-top-4">
  <p class="govuk-body">In future, youâ€™ll be able to add more services and switch between them.</p>
{% endblock %}
