{% extends "./layout-service-details.njk" %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}

{% set active = 'client-details' %}

{% block pageTitle %}Change user attributes - GOV.UK Sign In{% endblock %}

{% block mainContent %}
  <h1 class="govuk-heading-l govuk-!-margin-top-3">Change the user attributes you get</h1>

  <p class="govuk-body">Select the <a class="govuk-link" target="_blank" href="https://docs.sign-in.service.gov.uk/integrate-with-integration-environment/choose-which-user-attributes-your-service-can-request/">user attributes (opens in new tab)</a> you would like your service to receive. These are also known as ‘scopes’ in the OpenID Connect (OIDC) specification.</p>

  <form class="form" action="/change-user-attributes/{{ serviceId }}/{{ selfServiceClientId }}/{{ clientId }}" method="post">
    {{ govukCheckboxes({
      name: "userAttributes",
      id: "userAttributes",
      fieldset: {
        legend: {
          text: "User attributes"
        }
      },
      items: [
        {
          value: "email",
          text: "Email address",
          checked: email
        },
        {
          value: "phone",
          text: "Phone number",
          checked: phone
        },
        {
          value: "offline_access",
          text: "Offline access",
          hint: {
          html: "This gives you a refresh token so you can access the <code>/userinfo</code> endpoint for longer than 3 minutes"
        },
          checked: offline_access
        }
      ]
    }) }}

    <div class="govuk-button-group">
      {{ govukButton({text: "Confirm"}) }}
      <a class="govuk-link" href="/client-details/{{ serviceId }}">Cancel</a>
    </div>
  </form>
{% endblock %}
